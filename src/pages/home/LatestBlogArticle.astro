---
import { getCollection } from "astro:content"
import MainPage from "./MainPage.astro"

const latestArticle = (await getCollection("blog")).sort((a, b) =>
  a.data.published < b.data.published ? 1 : -1,
)[0]!

const imageSrc = (
  await import(
    `../../assets/blog/${
      latestArticle.id.endsWith(".mdx")
        ? latestArticle.id.slice(0, -4)
        : latestArticle.id.slice(0, -3)
    }.jpg`
  )
).default
---

<MainPage
  category="Blog"
  categoryHref="/blog"
  date={latestArticle.data.published}
  imageAlt={latestArticle.data.imageAlt}
  imageSrc={imageSrc}
  invertOnLight
  subtitle={latestArticle.data.excerpt}
  title={latestArticle.data.title}
  href={`/blog/${latestArticle.slug}`}
/>
